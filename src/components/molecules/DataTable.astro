---
/**
 * Molecule: DataTable (scaffold)
 * Tokenized table for displaying tabular data with accessible semantics.
 */
interface Column {
  key: string;
  header: string;
}
interface Props {
  columns: Column[];
  rows: Record<string, any>[];
  caption?: string;
  class?: string;
}

const {
  columns = [],
  rows = [],
  caption = '',
  class: className = '',
} = Astro.props as Props;
---

<table class:list={['hg-DataTable', className]}>
  {caption && <caption>{caption}</caption>}
  <thead>
    <tr>
      {columns.map((col) => <th scope="col">{col.header}</th>)}
    </tr>
  </thead>
  <tbody>
    {
      rows.map((row) => (
        <tr>
          {columns.map((col) => (
            <td>{row[col.key]}</td>
          ))}
        </tr>
      ))
    }
  </tbody>
</table>

<style>
  .hg-DataTable {
    width: 100%;
    border-collapse: collapse;
    background: var(--color-background-surface);
    color: var(--color-text-body);
  }

  caption {
    text-align: left;
    padding: var(--space-sm) 0;
    color: var(--color-text-subtle);
    font-size: var(--font-size-sm);
  }

  th,
  td {
    text-align: left;
    padding: var(--space-sm) var(--space-md);
    border-bottom: var(--border-width-sm) solid var(--color-border-subtle);
  }

  thead th {
    color: var(--color-text-heading);
    font-weight: var(--font-weight-bold);
    background: var(--color-surface);
  }

  tbody tr:hover {
    background: var(--color-surface);
  }
</style>
